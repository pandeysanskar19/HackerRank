#C

int compare(const void* a, const void* b) {
    return (*(int*)a - *(int*)b);
}

int pairs(int k, int arr_count, int* arr) {
    int count = 0;

    // Sort the array
    qsort(arr, arr_count, sizeof(int), compare);

    for (int i = 0; i < arr_count; i++) {
        int target = arr[i] + k;
        if (bsearch(&target, arr, arr_count, sizeof(int), compare)) {
            count++;
        }
    }

    return count;
}
